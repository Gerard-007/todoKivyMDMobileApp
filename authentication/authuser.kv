#:import get_color_from_hex kivy.utils.get_color_from_hex

# ScreenManager:
#     id: screen_manager
#     PreSplashScreen:
#         id: pre_splash
#         name: "pre_splash"
#     LoginScreen:
#         id: login
#         name: "login"
#     SignupScreen:
#         id: signup
#         name: "signup"



<PreSplashScreen>:
    MDLabel:
        text: 'pre splash'
    MDFloatLayout:
        md_bg_color: app.theme_cls.primary_color
        Image:
            source:"assets\img\geetechlab.png"
            size_hint: .30, .30
            pos_hint: {"center_x": .5, "center_y": .55}
            canvas.before:
                # Color:
                #     rgb: 1, 1, 1, 1
                Ellipse:
                    size: 130, 130
                    pos: 110, 250

        MDLabel:
            text: 'Todo App'
            pos_hint: {'center_x': .5, 'center_y': .2}
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            font_size: "30sp"
            # font_name: 'angsana.ttc'
        MDLabel:
            text: 'The Complete TODO software application'
            pos_hint: {'center_x': .5, 'center_y': .15}
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            font_size: "12sp"
            # font_name: 'angsana.ttc'
        MDLabel:
            text: 'Design by GeetechLab'
            pos_hint: {'center_x': .5, 'center_y': .12}
            halign: "center"
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
            font_size: "12sp"
            # font_name: 'angsana.ttc'




<LoginScreen>:
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        Image:
            source: "assets\img\geetechlab.png"
            size_hint: .26, .26
            pos_hint: {'center_x': .5, 'center_y': .8}
        MDLabel:
            text: 'Proceed with your'
            # font_size: "22sp"
            pos_hint: {'center_x': .5, 'center_y': .65}
            color: app.theme_cls.primary_color
            halign: "center"
            font_style: 'Caption'
        MDLabel:
            text: 'Login'
            pos_hint: {'center_x': .5, 'center_y': .6}
            color: app.theme_cls.primary_color
            halign: "center"
            font_style: "H4"
            # font_size: "15sp"
        MDTextField:
            id: user_email
            size_hint_x: None
            width: 300
            hint_text: "Email"
            helper_text: "example@mail.com"
            helper_text_mode: "on_focus"
            icon_right: "email"
            pos_hint: {'center_x': .5, 'center_y': .5}
        MDTextField:
            id: user_password
            size_hint_x: None
            width: 300
            hint_text: "Password"
            icon_right: "key-variant"
            helper_text: "you password ******"
            helper_text_mode: "on_focus"
            pos_hint: {'center_x': .5, 'center_y': .38}
            password: True
        MDRoundFlatButton:
            id: auth_user
            text: "Login"
            # text_color: 58/255, 58/255, 160/255, 1
            icon_color: app.theme_cls.primary_color
            pos_hint: {'center_x': .5, 'center_y': .25}
            on_release: root.authenticate_user()
        MDTextButton:
            id: forgot_password
            text: "Forgot password?"
            color: app.theme_cls.primary_color
            pos_hint: {'center_x': .5, 'center_y': .15}
            font_style: 'Caption'
        MDTextButton:
            id: user_signup
            text: "Signup"
            color: app.theme_cls.primary_color
            pos_hint: {'center_x': .5, 'center_y': .1}
            font_style: 'Caption'
            on_release:
                root.manager.transition.direction="left"
                root.manager.current = 'signup'



<SignupScreen>:
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        MDIconButton:
            icon: "chevron-left"
            user_font_size: "30sp"
            pos_hint: {'center_y': .95}
            on_release: root.manager.current = 'login'
        Image:
            source: "assets\img\geetechlab.png"
            size_hint: .26, .26
            pos_hint: {'center_x': .5, 'center_y': .85}
        MDLabel:
            text: 'Register with us'
            # font_size: "22sp"
            pos_hint: {'center_x': .5, 'center_y': .7}
            color: app.theme_cls.primary_color
            halign: "center"
            font_style: 'Caption'
        MDLabel:
            text: 'Signup'
            pos_hint: {'center_x': .5, 'center_y': .65}
            color: app.theme_cls.primary_color
            halign: "center"
            font_style: "H4"
            # font_size: "15sp"
        MDTextField:
            id: username
            size_hint_x: None
            width: 300
            hint_text: "Username"
            helper_text: "example123"
            helper_text_mode: "on_focus"
            icon_right: "account"
            pos_hint: {'center_x': .5, 'center_y': .55}
        MDTextField:
            id: user_email
            size_hint_x: None
            width: 300
            hint_text: "Email"
            helper_text: "example@mail.com"
            helper_text_mode: "on_focus"
            icon_right: "email"
            pos_hint: {'center_x': .5, 'center_y': .45}
        MDTextField:
            id: user_password
            size_hint_x: None
            width: 300
            hint_text: "Password"
            icon_right: "key-variant"
            helper_text: "you password ******"
            helper_text_mode: "on_focus"
            pos_hint: {'center_x': .5, 'center_y': .35}
            password: True
        MDRoundFlatButton:
            id: signup_user
            text: "Signup"
            # text_color: 58/255, 58/255, 160/255, 1
            icon_color: app.theme_cls.primary_color
            pos_hint: {'center_x': .5, 'center_y': .24}
            on_release: root.register_user()
        MDTextButton:
            id: user_login
            text: "Already a member? login"
            color: app.theme_cls.primary_color
            pos_hint: {'center_x': .5, 'center_y': .15}
            font_style: 'Caption'
            on_release:
                root.manager.transition.direction="right"
                root.manager.current="login"

